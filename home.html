<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/home.css">
    
</head>
<body>
    <div class="month">      
        <ul>
          <li class="prev"><img src="../agenda/icons/agenda-icon.png" alt="" width="100" height="100"></li>
          
          
          <li class="next"><img src="../agenda/icons/cron.png" alt="" width="100" height="100"></li>
          <li><p id="user_name"> <p>
            <span style="font-size:50px">&#10096;  </span><span style="font-size:45px" id="mes">OUTUBRO</span><span style="font-size:50px" onclick="imprimir()">  &#10097;</span> <br>
            <span style="font-size:18px">2020</span>
          </li>
        </ul>
      </div>

    <div id ="dias">

    </div>
    <script>
      
      var user = null;
      var diaDaSemanaQueOMesComeca = 5;
      var mes = 9;
      var diasNosMeses = [31,28,31,30,31, 30,31,31,30,31,30,31];
      var meses = ['Janeiro',
        'Fevereiro',
        'Março',
        'Abril',
        'Maio',
        'Junho',
        'Julho',
        'Agosto',
        'Setembro',
        'Outubro',
        'Novembro',
        'Dezembro'];

      window.onload = function() {
        init();
      };

      function init() {
        user = JSON.parse(localStorage.getItem('user'));
        document.getElementById('user_name').innerHTML = 'Olá, ' +user.nome+' esse é o seu mes de ';
        document.getElementById('mes').innerHTML = meses[mes].toUpperCase();
        preencheDias();
      }
      function preencheDias() {
        var diasNaSemana = 7;
        var semanasNoMes = 5;
        var diasNoMes = diasNosMeses[mes];
        var templateTabela = `<table style="width:100%">
        <tr>
          <th class="weekdays">Dom</th>
          <th class="weekdays">Seg</th>
          <th class="weekdays">Ter</th>
          <th class="weekdays">Qua</th>
          <th class="weekdays">Qui</th>
          <th class="weekdays">Sex</th>
          <th class="weekdays">Sab</th>
        </tr>`;
        var dia = 1;
        for(var j = 0; j < semanasNoMes; j++) {

          templateTabela+= `<tr class="days" >`

            for(var i = 0; i < diasNaSemana; i++){
              if(j == 0 && i<diaDaSemanaQueOMesComeca-1 ){
                templateTabela+= `<td></td>`
              }
              else {
                if(dia<=diasNoMes){
                  templateTabela += `<td>` + dia + `</td>`;
                  dia++;
                } else {
                  templateTabela+= `<td></td>`
                }
              }
            }


          templateTabela+= `</tr>`
        }
        document.getElementById('dias').innerHTML = templateTabela + `</table>`
      }

      function imprimir(){
        console.log('imprimiu');
      }
    </script>
</body>
</html>
